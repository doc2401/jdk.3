<html>
<head>
<title>Java Plug-in Enhancements</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body bgcolor="#FFFFFF">
<hr>
<h1>Java Plug-in Usability Enhancements</h1>
<hr>
<div align="center"> <font size="2"><a href="index.html">home</a> 
  | <a href="overview.html">overview</a> | <a href="plugin.html">plug-in</a> | 
  <a href="oji.html">oji</a> | <a href="security.html">security</a></font> 
</div>
<p><br>
  This section discusses usability enhancements made to Java Plug-in 
beginning with the Java 
  2 Standard Edition 1.3.0_01 release. Most are aimed at making applet debugging 
  easier.</p>
<h3>Unified Message Dialogs</h3>
<p>All messages are displayed in a dialog box with a unified look and feel. This 
  includes error, warning and general messages. The following is an example of 
  a null pointer exception dialog:</p>
<p align="center"><img src="images/java_plugin_dialog.gif" width="550" height="296"></p>
<p align="center">&nbsp;</p>
<h3>Enhanced Error Reporting</h3>
<p>Much more information about error conditions is reported in this release of 
  Java Plug-in. Previously, most errors failed silently, which made debugging 
  difficult. </p>
<p>Error condition handling is provided for the following:</p>
<ol>
  <li>RSA signed applet verification</li>
  <li>Java optional package installation</li>
  <li>Applet caching</li>
  <li>Proxy support</li>
  <li>Java Plug-in Control Panel</li>
</ol>
<h3>Enhanced Applet Lifecycle Exception Reporting</h3>
<p>In the previous version of Java Plug-in, when an applet threw an exception 
  the Java Console had to be open to view the stack trace. In this release, even 
  when the Java Console is not opened, Java Plug-in shows a dialog box with all 
  exception detail whenever there is an exception in an applet's <code>init()</code>, 
  <code>start()</code>, <code>stop()</code>or <code>destroy()</code> method. This 
  feature is disabled by default but can be turned on by checking the &quot;Track 
  Lifecycle Exception&quot; check box in the Basic Tab of the Java Plug-in Control 
  Panel.</p>
<p>The Java Plug-in Control Panel is accessed through the Windows Control Panel, 
  as shown below:</p>
<p align="center"><img src="images/windows_control_panel.gif" width="490" height="513"></p>
<p align="center">&nbsp;</p>
<p>Note the two versions of the Java Plug-in shown above. </p>
<p>Double-click the icon for the version of Java Plug-in whose Control Panel you 
  want to view. The Java Plug-in Control Panel looks like this:</p>
<p align="center"><a name="control_panel"></a><img src="images/java_plugin_control_panel.gif" width="400" height="350"></p>
<p>&nbsp;</p>
<h3>Java Console Enhancements</h3>
<p>The following enhancements have been made to the Java Console:</p>
<h4>Swing-based</h4>
<p>The Java Console in the previous Java Plug-in used an AWT implementation. However, 
  when many messages were displayed, they often flooded the Console window, and 
  the native AWT widget was unable to handle the task. In this version, the Java 
  Console has been converted to Swing to eliminate the problem.<br>
</p>
<h4>Debugging Support</h4>
<p>In the previous version of Java Plug-in, Java Console provided only a simple 
  way to show <code>System.out</code> and <code>System.err</code> for debugging 
  of applets<i>.</i> This was inadequate<i>.</i> The new version provides the 
  options as shown below in the Java Console:</p>
<p align="center"><a name="console"></a> <img src="images/java_console1.gif" width="451" height="401"> 
</p>
<blockquote>
  <p>&nbsp; </p>
</blockquote>
<p>An action/option is selected by typing its letter/number while the Java Console 
  window has focus.</p>
<p>&nbsp;</p>
<table width="90%" cellpadding="5" align="center" border="2">
  <tr> 
    <td width="10%" align="left" valign="top" bgcolor="#CCCCCC"> 
      <div align="center"><font size="4"><b>Key</b></font></div>
    </td>
    <td bgcolor="#CCCCCC"> 
      <div align="center"><font size="4"><b>Description</b></font></div>
    </td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">c:</td>
    <td> Clears the Java Console window.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">f: </td>
    <td>Triggers finalization on the objects in the finalization queue and then 
      displays memory information. <i>Memory</i> refers to the current heap size 
      used by the JRE. <i>Free</i> is the available memory that is free in the 
      heap. The percent <i>(xx%)</i> is the free memory as a percent of the total 
      heap size.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">g: </td>
    <td>Triggers garbage collection and displays memory information as described 
      above.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">h: </td>
    <td>Displays help message, which is being described here.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">l: </td>
    <td>Displays a list of the cached <code>ClassLoader</code> objects in the 
      Java Plug-in. (These are runtime objects and should not be confused with 
      the cached JAR files mentioned at the end of this chapter.) Classes are 
      cached to avoid having to load them again when returning to previously-visited 
      pages. When a page is visited the first time, a <code>ClassLoader</code> 
      object will be created and all of the classes that are downloaded will be 
      cached in that object. These objects are created and cached according to 
      their <code>codebase</code>. To identify a <code>ClassLoader</code> object, 
      the &quot;classloader list&quot; displays the <code>codebase</code> for 
      that object. Additional information displayed with a <code>ClassLoader</code> 
      object includes <code>zombie</code>, <code>cache</code> and <code>info</code>. 
      <code>zombie = true</code> indicates that a <code>ClassLoader</code> object 
      is not being used (i.e., the applet is not currently loaded on the page). 
      <code>cache = true</code> indicates that the applet should be cached, while 
      <code>false</code> indicates that the applet will be destroyed when the 
      page is left. <code>info</code> is a value used for debugging.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">m: </td>
    <td>Displays heap memory usage as described above.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">q: </td>
    <td>Causes the Java Console to disapper from the main screen.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">s: </td>
    <td>Prints out the system properties. This is mostly for debugging. </td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">t: </td>
    <td>Prints out all the existing thread groups. The first group shown is <code>Group 
      main</code>. <code>ac</code> stands for <i>active count</i>; it is the total 
      number of active threads in a thread group and its child thread groups. 
      <code>agc</code> stands for <i>active group count</i>; it is the number 
      of active child thread groups of a thread group. <code>pri</code> stands 
      for <i>priority</i>; it is the priority of a thread group. Following <code>Group 
      main</code>, other thread groups will be shown as <code>Group &lt;</code><i>name</i><code>&gt;</code>, 
      where <i>name</i> is the URL associated with an applet. Individual listings 
      of threads will show the thread name, the thread priority, <code>alive</code> 
      if the thread is alive or <code>destroyed</code> if the thread is in the 
      process of being destroyed, and <code>daemon</code> if the thread is a daemon 
      thread.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">x: </td>
    <td>This removes (destroys) all <code>ClassLoader</code> objects in the cache.</td>
  </tr>
  <tr> 
    <td width="10%" align="left" valign="top">0-5: </td>
    <td>This sets the trace-level options as described below under <a href="plugin.html#tracing">Enhanced 
      Java Plug-in Tracing</a>.</td>
  </tr>
</table>
<p><br>
</p>
<h4>Task-Bar Integration</h4>
<p>When Java Plug-in is running an icon is now displayed &#151; in the taskbar 
  for Windows or on the desktop for Solaris. When clicked, the Java Console opens. 
  This allows the user to open and close the Java Console any number of times 
  within the same browser session. The Java Plug-in version may also be checked 
  from the icon in the Windows taskbar. This enhancement applies to both Netscape 
  and Internet Explorer.</p>
<h3><a name="tracing"></a>Enhanced Java Plug-in Tracing</h3>
<p>In the previous version of Java Plug-in, tracing could be turned on by enabling 
  the property <code>javaplugin.trace</code>. However, it turned on all tracing 
  facilities inside Java Plug-in, and messages often flooded the Java Console. 
  In this version, tracing control is more fine-grained. A new property,<code> 
  javaplugin.trace.option</code>, has been introduced. You can set trace-level 
  options (0-5) in the <a href="plugin.html#console">Java Console</a>, shown above, 
  with the following meanings:</p>
<ul>
  <li>0 &#151; off</li>
  <li>1 &#151; basic</li>
  <li>2 &#151; network and basic</li>
  <li>3 &#151; security, network and basic</li>
  <li>4 &#151; extension, security, network and basic</li>
  <li>5 &#151; LiveConnect, extension, security, network and basic</li>
</ul>
<p>This enables tracing on the fly.</p>
<p>Another way to set fine-grained tracing is through the <a href="plugin.html#control_panel">Java 
  Plug-in Control Panel</a>, also shown above. For instance, to enable tracing 
  for everthing (option 5 above), enter the following in the &quot;Java Run Time 
  Parameters&quot; textfield:</p>
<blockquote> 
  <p><code>-Djavaplugin.trace=true <br>
    -Djavaplugin.trace.option=basic|net|security|ext|liveconnect</code></p>
</blockquote>
<p>Tracing set through the Control Panel will take effect when the Plug-in is 
  launched, but changes made through the Control Panel while a Plug-in is running 
  will have no effect. </p>
<h3>Enhanced Applet Progress Reporting</h3>
<p>Previous to this release, applet status reporting was minimal in the applet 
  display area (gray box) of the browser. This enhancement provides much more 
  detail about what is happening (<code>init() method being called, JAR downloading, 
  </code> ...). This will not only aid developers in applet debugging but keep 
  users better informed about applet status. For example, shown below is applet 
  status reporting for Sun's Animator Applet as it loads:</p>
<p align="center"><img src="images/applet_status.gif" width="570" height="357" border="1"></p>
<p>Applet progress status is shown in a non-blocking fashion, making the browser 
  UI more responsive.</p>
<h3>Delete Option for Cached Plug-in Files</h3>
<p>With the JAR caching feature (available since 1.3), redundant downloads can 
  be avoided and applets can be run offline. But since a user may want to delete 
  the cached files at some time, an option exists in the Java Plug-in Control 
  Panel for deleting the cached files. A user can push the &quot;Clear JAR Cache&quot; 
  button to delete the JAR cache.</p>
<p>&nbsp;</p>
<!-- Body text ends here -->

<!-- ============================================================== -->

<HR SIZE=3 NOSHADE>



<TABLE BORDER="0" WIDTH=100%>

<TR VALIGN=TOP>



<TD>

<P><FONT SIZE="-2">

   <A HREF="../../relnotes/SMICopyright.html">Copyright &#169;</A> 2000

   <A HREF="http://www.sun.com/">Sun Microsystems, Inc.</A>

    All Rights Reserved.</FONT></P>

   <FONT SIZE="-1">

   Please send comments to: <a href="mailto:java-plugin-feedback@javasun.com">java-plugin-feedback@java.sun.com</a> 

   </FONT>

</TD>



<TD ALIGN=RIGHT>

   <IMG SRC="../../images/sunlogo64x30.gif" ALT=" Sun Microsystems, Inc " BORDER=0 WIDTH=64 HEIGHT=30>

   <BR>

   <FONT SIZE="+1">

   <i>Java Software</i>

   </FONT>

</TD>



</TR>

</TABLE>
</body>
</html>
